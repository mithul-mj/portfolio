/* CLIFF VISUALS */
.cliff-container {
    position: absolute;
    bottom: 0vh;
    /* Anchor slightly below viewport to ensure no bottom gap */
    left: 153vw;
    /* Start earlier to allow for a long fade-in leftwards */
    width: 100vw;
    /* Wide container to prevent horizontal clipping */
    height: 25vh;
    /* TALLER container (was 25vh) so the fade can happen gradually */
    z-index: 4;
    pointer-events: none;
    display: flex;
    align-items: flex-end;
    justify-content: flex-end;
}

.cliff-image {
    width: 100%;
    height: 100%;
    object-fit: contain;
    /* Use COVER to fill the container and avoid empty box space */
    object-position: bottom right;

    /* 
       Image Processing:
       1. High Contrast: Pushes grey haze to white.
       2. SVG Filter: White becomes transparent. 
       3. Drop Shadow: Adds depth to the ink lines.
    */
    filter: brightness(1.1) contrast(1.4) url(#remove-white) drop-shadow(-10px 10px 20px rgba(0, 0, 0, 0.5));

    /* 
       SMOOTH EDGE MASKING:
       We need to hide the top and left edges of the image rectangle.
       
       1. Gradient to Right: Fades the left edge (ground connection) from transparent (0%) to black (30%).
       2. Gradient to Bottom: Fades the top edge (sky connection) from transparent (0%) to black (30%).
    */
    mask-image:
        linear-gradient(to right, transparent 0%, transparent 50%, black 100%),
        linear-gradient(to bottom, transparent 0%, black 80%);

    -webkit-mask-image:
        linear-gradient(to right, transparent 0%, transparent 50%, black 100%),
        linear-gradient(to bottom, transparent 0%, black 80%);

    /* Intersect keeps only the overlapping opaque parts, effectively fading BOTH top and left edges */
    mask-composite: intersect;
    -webkit-mask-composite: source-in;

    opacity: 0.8;
}

/* Ensure the cliff extends over the fog but blends with it */
.ground-fog {
    z-index: 1;
}